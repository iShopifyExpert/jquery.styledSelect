(function(a){a.fn.styledSelectBox=function(b){var g={image_base:null,classes:[],widget_height:null};b=a.extend(g,b);var f=this;var d=null;var e=null;var c=null;this.initStyledSelectBox=function(){if(f.attr("data-styled-select-id")===undefined){alert('StyledSelectBox widget: no "data-styled-select-id" property found on the original Select widget.');return}if(b.image_base==null){alert("StyledSelectBox widget: no image base specified.");return}d=a("<div class='styled_select' id='"+f.attr("data-styled-select-id")+"'></div>");e=a("<span class='styled_select_option_display'></span>");c=a("<span class='styled_select_arrow'>&nbsp;</span>").css({backgroundImage:"url("+b.image_base+"/small-arrow.png)"});d.append(e).append(c);if(b.widget_height!=null){f.css({height:b.widget_height+"px",lineHeight:(parseInt(b.widget_height)-2)+"px"});d.css({height:b.widget_height+"px"});if(a.browser.msie&&parseInt(a.browser.version)<=8){d.css({lineHeight:b.widget_height+"px"})}else{d.css({lineHeight:(parseInt(b.widget_height)-2)+"px"})}}if(b.classes.length>0){for(var h=0;h<b.classes.length;h++){d.addClass(b.classes[h])}}f.after(d);f.on("change",this.setCurrentSelectedText);this.setCurrentSelectedText()};this.setCurrentSelectedText=function(h){var j=f.get(0);var i=f.find("option");d.find("span.styled_select_option_display").html(i[j.selectedIndex].text);f.blur()};this.initStyledSelectBox();return this}})(jQuery);